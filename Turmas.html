<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Formulário</title>
    <link rel="stylesheet" href="./Css/css.css">
   <style>
    main {
        height: 40%; 
    }
   </style>
</head>
<body>
    <main>
    <h2>Cadastro da Turma</h2>
    <form id="formFuncionario" action="#" method="post">
        <label for="nome">Nome:</label>
        <input type="text" id="nome" name="nome" placeholder="Digite o nome da turma" required>

        <label for="Ano">Ano:</label>
        <input type="number" id="Ano" name="Ano" placeholder="Digite o ano da turma" required>

        <label for="Ano">Id_Categoria:</label>
        <input type="number" id="id_Categoria" name="Id_Categoria" placeholder="Digite o id da categoria desejada" required>

        <button type="submit">Enviar</button>
    </form>
</body>
</main>
<!-- <script>
   document.getElementById('formFuncionario').addEventListener('submit', async (event) => {
            event.preventDefault(); // Previne o envio padrão do formulário

            // Captura os dados do formulário
            const nome = document.getElementById('nome').value;
            const ano = parseInt(document.getElementById('ano').value);
            const id_categoria = parseInt(document.getElementById('id_categoria').value);

            // Criação do objeto a ser enviado
            const turma = {
                nome: nome,
                ano: ano,
                categoria_id: id_categoria // Relacionando com a chave estrangeira
            };

            try {
                // Enviar os dados via POST
                const response = await fetch('http://127.0.0.1:8000/turmas', {
                    method: 'POST',
                    headers: {
                        'Content-Type': 'application/json'
                    },
                    body: JSON.stringify(turma) // Corrigido o nome da variável
                });

                // Tratamento da resposta
                if (response.ok) {
                    const result = await response.json();
                    alert('Turma cadastrada com sucesso!');
                    console.log(result);
                } else {
                    alert('Erro ao cadastrar a turma.');
                    console.error('Erro:', response.status, response.statusText);
                }
            } catch (error) {
                console.error('Erro de conexão:', error);
                alert('Falha ao conectar ao servidor.');
            }
        });
</script> -->
</html>
